!function(e){var r={};function t(o){if(r[o])return r[o].exports;var s=r[o]={i:o,l:!1,exports:{}};return e[o].call(s.exports,s,s.exports,t),s.l=!0,s.exports}t.m=e,t.c=r,t.d=function(e,r,o){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:o})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var s in e)t.d(o,s,function(r){return e[r]}.bind(null,s));return o},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p="",t(t.s=15)}([function(e,r){e.exports=require("koa-router")},function(e,r){e.exports={getNode:function(e){const{query:r}=e.request,{node:t}=r,o=e.request.header.authorization||"";if(!o.startsWith("Basic "))throw new Error("The authorization header is either empty or isn't Basic.");{const e=o.split(" ")[1],r=Buffer.from(e,"base64").toString().split(":"),t=r[0],s=r[1];console.log(`request from ${t} with password:${s}`)}e.ok({node:t,query:r,comment:" node was requested!"})}}},function(e,r,t){const o=new(t(0)),s=t(1);o.get("/",s.getNode),e.exports=o.routes()},function(e,r){e.exports={getUser:function(e){const{query:r}=e.request,{user:t}=r;e.ok({user:t,query:r,comment:" user was requested!"})}}},function(e,r,t){const o=new(t(0)),s=t(3);o.get("/",s.getUser),e.exports=o.routes()},function(e,r,t){const o=t(4),s=t(2);e.exports=(e=>{e.prefix("/v1"),e.use("/users",o),e.use("/nodes",s)})},function(e,r){e.exports=require("koa-respond")},function(e,r){e.exports=require("koa-helmet")},function(e,r){e.exports=require("koa-bodyparser")},function(e,r,t){"use strict";e.exports=function(e){return e=Object.assign({},{allowMethods:"GET,HEAD,PUT,POST,DELETE,PATCH"},e),Array.isArray(e.exposeHeaders)&&(e.exposeHeaders=e.exposeHeaders.join(",")),Array.isArray(e.allowMethods)&&(e.allowMethods=e.allowMethods.join(",")),Array.isArray(e.allowHeaders)&&(e.allowHeaders=e.allowHeaders.join(",")),e.maxAge&&(e.maxAge=String(e.maxAge)),e.credentials=!!e.credentials,e.keepHeadersOnError=void 0===e.keepHeadersOnError||!!e.keepHeadersOnError,function(r,t){const o=r.get("Origin");if(r.vary("Origin"),!o)return t();let s;if("function"==typeof e.origin){if(!(s=e.origin(r)))return t()}else s=e.origin||o;const n={};function i(e,t){r.set(e,t),n[e]=t}if("OPTIONS"!==r.method)return i("Access-Control-Allow-Origin",s),!0===e.credentials&&i("Access-Control-Allow-Credentials","true"),e.exposeHeaders&&i("Access-Control-Expose-Headers",e.exposeHeaders),e.keepHeadersOnError?t().catch(e=>{throw e.headers=Object.assign({},e.headers,n),e}):t();{if(!r.get("Access-Control-Request-Method"))return t();r.set("Access-Control-Allow-Origin",s),!0===e.credentials&&r.set("Access-Control-Allow-Credentials","true"),e.maxAge&&r.set("Access-Control-Max-Age",e.maxAge),e.allowMethods&&r.set("Access-Control-Allow-Methods",e.allowMethods);let o=e.allowHeaders;o||(o=r.get("Access-Control-Request-Headers")),o&&r.set("Access-Control-Allow-Headers",o),r.status=204}}}},function(e,r){e.exports=require("koa-logger")},function(e,r){e.exports=require("koa-basic-auth")},function(e,r){e.exports=require("koa")},function(e,r,t){const o=t(12),s=t(0),n=t(11),i=(t(10),t(9)),u=t(8),a=t(7),c=t(6),l=new o,d=new s;l.use(a()),l.use(async(e,r)=>{try{await r()}catch(r){if(401!==r.status)throw r;e.status=401,e.set("WWW-Authenticate","Basic"),e.body="access was not authorized"}}),l.use(n({name:"jf",pass:"jfhjfh"})),l.use(i()),l.use(u({enableTypes:["json"],jsonLimit:"5mb",strict:!0,onerror(e,r){r.throw("body parse error",422)}})),l.use(c()),t(5)(d),l.use(d.routes()),l.use(d.allowedMethods()),e.exports=l},function(e,r){e.exports=require("dotenv")},function(e,r,t){t(14).config();const o=t(13),s=process.env.PORT||3333;o.listen(s,()=>console.log(`API server started on ${s}`))}]);